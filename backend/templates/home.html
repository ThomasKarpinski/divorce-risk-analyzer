{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% trans "Divorce Risk Survey - Welcome" %}</title>
    <style>
        body {
            font-family: "Segoe UI", Arial, sans-serif;
            background: linear-gradient(to bottom right, #f2f7ff, #fde7ef);
            margin: 0;
            padding: 0;
            color: #333;
        }

        /* --- TOP BAR WITH LOGIN --- */
        .top-bar {
            width: 100%;
            padding: 1rem 2rem;
            box-sizing: border-box;
            background: rgba(255,255,255,0.4);
            display: flex;
            justify-content: flex-end;
            align-items: center;
            position: sticky;
            top: 0;
        }

        .top-bar a {
            text-decoration: none;
        }

        .login-btn {
            background-color: #ff6b81;
            color: white;
            border: none;
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: 0.25s;
        }

        .login-btn:hover {
            background-color: #ff506b;
            transform: translateY(-2px);
        }
        
        .lang-btn {
            background-color: transparent;
            color: #ff6b81;
            border: 1px solid #ff6b81;
            padding: 0.4rem 0.8rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            transition: 0.25s;
            margin-right: 5px;
        }
        
        .lang-btn:hover {
             background-color: #ff6b81;
             color: white;
        }

        header {
            text-align: center;
            padding: 2rem 1rem 1rem;
        }

        header h1 {
            margin: 0;
            font-size: 2.4rem;
            color: #ff6b81;
        }

        header p {
            font-size: 1.2rem;
            margin-top: 0.5rem;
            opacity: 0.9;
        }

        main {
            max-width: 900px;
            margin: 1rem auto 3rem;
            background: white;
            padding: 2.5rem;
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }

        .intro p {
            line-height: 1.7;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .image-wrapper {
            text-align: center;
            margin: 2rem 0 3rem;
        }

        .image-wrapper img {
            max-width: 70%;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        /* --- MAIN BIG BUTTON --- */
        .big-btn-wrapper {
            display: flex;
            justify-content: center;
            margin: 2rem 0 1rem;
        }

        .big-btn {
            background-color: #ff6b81;
            color: white;
            border: none;
            padding: 1.2rem 3rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.3rem;
            font-weight: bold;
            transition: 0.25s;
            box-shadow: 0 4px 12px rgba(255,107,129,0.3);
        }

        .big-btn:hover {
            background-color: #ff506b;
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(255,107,129,0.4);
        }

        .under-button-text {
            text-align: center;
            font-size: 1rem;
            opacity: 0.85;
            margin-top: 1rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* --- FOOTER --- */
        footer {
            width: 100%;
            background: #ff6b81;
            color: white;
            text-align: center;
            padding: 1rem;
            margin-top: 3rem;
            font-size: 0.95rem;
        }
    </style>
</head>

<body>

    <!-- TOP BAR -->
    <div class="top-bar" style="justify-content: space-between;">
        <div style="display: flex; align-items: center;">
             {% if user.is_authenticated %}
                <a href="{% url 'dashboard' %}" style="margin-left: 20px; text-decoration: none; color: #ff6b81; font-weight: bold; font-size: 1.1rem;">{% trans "ðŸ“Š Community Dashboard" %}</a>
             {% endif %}
        </div>
        
        <div style="display: flex; align-items: center;">
            <form action="{% url 'set_language' %}" method="post" style="display:flex; margin-right: 15px;">
                {% csrf_token %}
                <input name="next" type="hidden" value="{{ redirect_to }}">
                <select name="language" onchange="this.form.submit()" style="border-radius: 20px; padding: 5px; border: 1px solid #ccc;">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% get_language_info_list for LANGUAGES as languages %}
                    {% for language in languages %}
                        <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                            {{ language.name_local }} ({{ language.code }})
                        </option>
                    {% endfor %}
                </select>
            </form>

            {% if user.is_authenticated %}
                <a href="{% url 'chatbot' %}" style="margin-right: 15px; text-decoration: none; color: #ff6b81; font-weight: bold;">{% trans "AI Assistant" %}</a>
                <span>{% trans "Welcome" %}, {{ user.username }}!</span>
                <form action="{% url 'logout' %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="login-btn" style="margin-left: 10px;">{% trans "Logout" %}</button>
                </form>
            {% else %}
                <a href="{% url 'register' %}" style="margin-right: 10px;">
                    <button class="login-btn" style="background-color: #ff8fa3;">{% trans "Register" %}</button>
                </a>
                <a href="{% url 'login' %}">
                    <button class="login-btn">{% trans "Login" %}</button>
                </a>
            {% endif %}
        </div>
    </div>

    <header>
        <h1>{% trans "Welcome to the Divorce Risk Survey" %}</h1>
        <p>{% trans "Supporting couples in building healthy, loving relationships" %}</p>
    </header>

    <main>
        <div class="intro">
            <div class="image-wrapper">
                <img src="{% static 'images/love-hate.jpg' %}" alt="Relationship illustration">
            </div>
            <p>
                {% trans "Our goal is to prevent divorces and help people strengthen their relationships. We aim to support couples in maintaining healthy, loving connections and developing the skills needed to understand each other better and build a happier life together." %}
            </p>

            <p>
                {% trans "To make your love life better, we invite you to take this short quiz. Please read each question carefully and choose the option that best reflects your experience. Remember, there are no right or wrong answersâ€”only honest ones. After completing the survey, you will be able to review the personalized results provided for you." %}
            </p>

            <p>
                {% trans "We also encourage you to create an account to access detailed insights, additional data, and the opportunity to chat with our dedicated relationship-support chatbot, which can help explain specific areas of your results." %}
            </p>


            <!-- BIG BUTTON -->
            <div class="big-btn-wrapper">
                <a href="{% url 'survey' %}">
                    <button class="big-btn">{% trans "Start Survey" %}</button>
                </a>
            </div>

            <p class="under-button-text">
                {% trans "Begin the journey of understanding your relationship dynamics and improving your emotional connection." %}
            </p>
        </div>
    </main>

    <footer>
        {% trans "Â© 2025 AGH-Love-Support-Research â€¢ Helping couples grow stronger together" %}
    </footer>

</body>
</html>
